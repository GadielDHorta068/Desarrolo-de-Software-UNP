<div *ngIf="loading" class="p-4">Cargando auditorias...</div>


  <div *ngIf="!loading && auditActions.length > 0" class="mb-6">
    <h2 class="text-2xl font-bold mb-4 text-white">Acciones de Auditoría</h2>
    <div class="mb-6">
     <!-- 
      Agregar:
      creador
      titulo del sorteo
      tipo de sorteo
      fecha de inicio
      fecha final -->
    </div>
    <!-- Filtros -->
     <div class=" mt-4 flex items-right">
        <button
        (click)="goBack()"
        class="bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-500">
        Volver
        </button>
      </div>
    <div class="mb-6 bg-gray-800 p-4 rounded-lg">
      <h2 class="text-lg font-semibold mb-3 text-white">Filtros</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <!-- Filtro de Tipo de Acción -->
            <div>
                <label class="block text-sm font-medium text-white mb-2">Tipo de Acción</label>
                <select 
                    [(ngModel)]="selectedAction" 
                    class="w-full px-3 py-2 bg-gray-700 text-white rounded-md">
                    <option [ngValue]="null">Todas las acciones</option>
                    <option *ngFor="let type of actionTypes" [value]="type">
                        {{type | handleTypePipe}}
                    </option>
                </select>
            </div>
            
            <!-- Filtro de Fecha Desde -->
            <div>
                <label class="block text-sm font-medium text-white mb-2">Desde</label>
                <input 
                    type="datetime-local" 
                    [(ngModel)]="dateFrom"
                    class="w-full px-3 py-2 bg-gray-700 text-white rounded-md">
            </div>
            
            <!-- Filtro de Fecha Hasta -->
            <div>
                <label class="block text-sm font-medium text-white mb-2">Hasta</label>
                <input 
                    type="datetime-local" 
                    [(ngModel)]="dateTo"
                    class="w-full px-3 py-2 bg-gray-700 text-white rounded-md">
            </div>
        </div>
        
        <div class="mt-4 flex gap-2">
         
          <!--Botón de aplicar Filtros-->
          <button
            (click)="applyFilters()" 
            class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-500">
            Aplicar Filtros
          </button>
        
        
        <!-- Botón de Limpiar Filtros -->
            <button 
                (click)="clearFilters()" 
                class="bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-500">
                Limpiar Filtros
            </button>
        </div>
    </div>
    <table class="min-w-full bg-black border border-gray-300 rounded-lg shadow-md">
      <thead>
        <tr>
          <th class="py-2 px-4 border-b border-blue-300 text-left text-white">Actor</th>
          <th class="py-2 px-4 border-b border-blue-300 text-left text-white">Acción</th>
          <th class="py-2 px-4 border-b border-blue-300 text-left text-white">Fecha</th>
          <th class="py-2 px-4 border-b border-blue-300 text-left text-white">Detalles</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let action of auditActions" class="border-t hover:bg-gray-900">
          <td class="py-2 px-4 border-b border-blue-300 text-white">{{action.actorIdentifier}}</td>
          <td class="py-2 px-4 border-b border-blue-300 text-white">{{action.action | handleTypePipe}}</td>
          <td class="py-2 px-4 border-b border-blue-300 text-white">{{action.timestamp | date:'dd/MM/yyyy HH:mm:ss'}}</td>
          <td class="py-2 px-4 border-b border-blue-300 text-white">{{action.details}}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="!loading && auditActions.length === 0" class="text-white">
    No se encontraron acciones de auditoría para este evento.
  </div>


