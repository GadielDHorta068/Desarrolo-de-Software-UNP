<!-- Card: encabezado con título y tabs -->
<div class="bg-white dark:bg-gray-800 p-4 rounded-2xl shadow flex flex-col gap-4">
    <!-- Título -->
    <h1 class="text-3xl font-bold text-gray-900 dark:text-white">{{ event?.title }}</h1>
    <hr class="border-gray-300 dark:border-gray-700" />

    <!-- Tabs y botón -->
    <div class="flex justify-between items-center border-gray-300 dark:border-gray-700 pb-1">
      <div class="flex space-x-6">

        <!-- Tab: Información -->
        <span
          class="pb-2 cursor-pointer font-semibold"
          [ngClass]="{
            'text-blue-600 border-b-2 border-blue-600': tab === 'info',
            'text-gray-600 dark:text-gray-300': tab !== 'info'
          }"
          (click)="tab = 'info'"
        >
          Información
        </span>

        <!-- Tab: Números -->
        <span
            *ngIf="event?.eventType === typesOfEventes.RAFFLES"
          class="pb-2 cursor-pointer font-semibold"
          [ngClass]="{
            'text-blue-600 border-b-2 border-blue-600': tab === 'numeros',
            'text-gray-600 dark:text-gray-300': tab !== 'numeros'
          }"
          (click)="tab = 'numeros'"
        >
          Números
        </span>

        <!-- Tab: Registrados -->
        <span
          class="pb-2 cursor-pointer font-semibold"
          [ngClass]="{
            'text-blue-600 border-b-2 border-blue-600': tab === 'registrados',
            'text-gray-600 dark:text-gray-300': tab !== 'registrados'
          }"
          (click)="tab = 'registrados'"
        >
            Registrados
        </span>
      </div>

        <!-- Botón (solo visible en info o números) -->
        <button
            *ngIf="tab === 'numeros'"
            (click)="addToCart()"
            class="h-9 px-4 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg shadow-sm"
        >
            Agregar al carrito
        </button>
    </div>
  </div>

  <!-- Card: Contenido dinámico según tab -->
  <div class="bg-white dark:bg-gray-800 p-4 rounded-2xl shadow flex-1 overflow-auto">

    <!-- TAB: Información -->
    <div *ngIf="tab === 'info'" class="flex flex-col gap-4">
        <div class="container">
            <div class="max-w-2xl pb-2">
                <h2 class="mt-6 text-3xl font-extrabold text-gray-900 dark:text-white">Gestiona tu evento</h2>
            </div>

            <div class="rounded-[6px] p-[10px] border-2 border-[darkslategray]">
                <div class="flex justify-between items-center">
                    <h3 class="text-[1.2rem] text-[mediumseagreen] pb-2">Información del evento</h3>
                    <button *ngIf="canUserInscript" class="bg-orange-600 dark:bg-orange-500 hover:bg-orange-700 dark:hover:bg-orange-600 text-white px-2 py-1 rounded-lg text-sm font-medium transition-colors"
                        (click)="onInscript()">Inscribirme</button>
                    <div *ngIf="canEdit" class="flex gap-1">
                        <button class="bg-emerald-600 dark:bg-emerald-500 hover:bg-emerald-700 dark:hover:bg-emerald-600 text-white px-2 py-1 rounded-lg text-sm font-medium transition-colors" routerLink="/event-edit">Ir a edición</button>
                        <button class="bg-green-500 text-white py-[1px] px-2 rounded" title="Compartir" (click)="modalShareEvent.open()">
                          <img class="w-6 h-6 filter invert" src="assets/link.png" alt="">
                        </button>
                    </div>
                </div>
                <app-info-event [event]="event"></app-info-event>
            </div>
            <!-- <div class="rounded-[6px] p-[10px] border-2 border-[darkslategray]">
                <h3 class="pb-2">Compartir evento</h3>
            </div> -->
        
        </div>

        <app-modal-info [dataModal]="dataModal" #modalInfo></app-modal-info>
        <app-modal-share-event #modalShareEvent></app-modal-share-event>

        <!-- incripcion a sorteo -->
        <app-questionary *ngIf="showModalIncript" (close)="showModalIncript=false" [eventId]="selectedEventId"></app-questionary>

    </div>

    <!-- TAB: Números -->
    <div *ngIf="tab === 'numeros' && event?.eventType === typesOfEventes.RAFFLES" class="flex flex-col gap-4">
      <div class="grid grid-cols-10 gap-2">
        <button
          *ngFor="let num of numeros"
          (click)="selectNumber(num)"
          [disabled]="num.buyStatus"
          class="w-20 h-20 flex items-center justify-center border rounded-lg shadow transition"
          [ngClass]="{
            'bg-red-500 bg-opacity-70 text-white cursor-not-allowed': num.buyStatus,
            'bg-blue-600 text-white': num.selectStatus && !num.buyStatus,
            'bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-blue-100 dark:hover:bg-blue-600': !num.selectStatus && !num.buyStatus
          }"
        >
          {{ num.ticketNumber }}
        </button>
      </div>
    </div>

    <!-- TAB: Registrados -->
    <div *ngIf="tab === 'registrados'" class="p-4">
      <p class="text-gray-700 dark:text-gray-300 text-center italic">
        (Próximamente: lista de usuarios registrados con sus números)
      </p>
    </div>

</div>



